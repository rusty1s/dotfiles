#!/bin/sh

# OS
if [ $(uname) = "Darwin" ]; then
  export OS="mac"
else
  export OS="linux"
fi

# Homebrew
if [ "$OS" = "mac" ]; then export HOMEBREW_PREFIX="/usr/local"; fi
if [ "$OS" = "linux" ]; then export HOMEBREW_PREFIX="/home/linuxbrew/.linuxbrew"; fi

export HOMEBREW_CELLAR="$HOMEBREW_PREFIX/Cellar"
export HOMEBREW_REPOSITORY="$HOMEBREW_PREFIX/Homebrew"
export MANPATH="$HOMEBREW_PREFIX/share/man:$MANPATH"
export INFOPATH="$HOMEBREW_PREFIX/share/info:$INFOPATH"
export PATH="$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:$PATH"

# Miniconda3
if [ "$OS" = "mac" ]; then export MINICONDA_PREFIX="$HOME/miniconda3"; fi
if [ "$OS" = "linux" ]; then export MINICONDA_PREFIX="$HOME/.miniconda3"; fi

export PATH="$MINICONDA_PREFIX/bin:$PATH"

# Cuda
if [ "$OS" = "mac" ]; then export CUDA_HOME="/usr/local/cuda"; fi
if [ "$OS" = "linux" ]; then export CUDA_HOME="/usr/local/cuda-10.0"; fi
export PATH="$CUDA_HOME/bin:$PATH"
export CPATH="$CUDA_HOME/include:$CPATH"
if [ "$OS" = "mac" ]; then export DYLD_LIBRARY_PATH="$CUDA_HOME/lib:$DYLD_LIBRARY_PATH"; fi
if [ "$OS" = "linux" ]; then export LD_LIBRARY_PATH="$CUDA_HOME/lib64:$LD_LIBRARY_PATH"; fi

# Compiler.
if [ "$OS" = "mac" ]; then export CC=clang; export CXX=clang++; fi
if [ "$OS" = "linux" ]; then export LD_LIBRARY_PATH="/usr/lib/llvm-6.0/lib:$LD_LIBRARY_PATH"; fi

# Dotfiles
export DOTFILES="$HOME/dotfiles"
export PATH="$DOTFILES/bin:$PATH"

# Github
export GITHUB="$HOME/github"

# CDPATH
export CDPATH=".:$HOME:$DOTFILES:$GITHUB:$CDPATH"
